MODEL:
  TRANSFORMER_TYPE: 'deit_base_patch16_224_TransReID'
  PRETRAIN_CHOICE: 'imagenet'
  PRETRAIN_PATH: './pretrained/deit_base_distilled_patch16_224-df68dfff.pth'
  NAME: 'transformer'
  STRIDE_SIZE: [12, 12]
  SIE_CAMERA: True
  SIE_VIEW: True
  SIE_COE: 3.0
  JPM: True
  SHIFT_NUM: 8
  RE_ARRANGE: True

  METRIC_LOSS_TYPE: 'triplet'   # metric = Triplet
  NO_MARGIN: True               # soft (no-margin) triplet
  IF_LABELSMOOTH: 'off'
  IF_WITH_CENTER: 'no'
  ID_LOSS_WEIGHT: 1.0
  TRIPLET_LOSS_WEIGHT: 1.0

LOSS:
  # Turn OFF phased scheduling to avoid conflicts
  PHASED:
    ENABLE: False

  # Triplet features from pre-BN (stable baseline)
  TRIPLET:
    FEAT_SRC: 'pre_bn'

  # SupCon with global linear decay (no phased schedule)
  SUPCON:
    ENABLE: True
    FEAT_SRC: 'pre_bn'     # or 'bnneck' per your design
    T: 0.07
    W: 0.30                # initial weight (used until decay starts)
    W0: 0.30               # initial epoch-aware weight
    DECAY_TYPE: "linear"   # linear decay only (no PHASED W_SUP_SPEC)
    DECAY_START: 50
    DECAY_END: 120
